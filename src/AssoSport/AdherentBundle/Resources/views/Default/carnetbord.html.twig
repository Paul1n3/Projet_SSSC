{% extends "::base.html.twig" %}

{% block title %}Carnet de bord{% endblock %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{ asset('css/adherent.css') }}" />
{% endblock %}

{% block body %}

<div class="container">
  <div class="col-sm-10">
    <h1>Carnet de bord</h1>
  </div>
  <div class="col-sm-10">
    <p>Ici vous trouverez vos statistiques de la semaine, ainsi que les statistiques globales. Vous pourrez également ajouter votre activité de la semaine.</p>
  </div>
</div>

<div class="container">
  <div class="col-sm-10">
    <ul>
      {% for activite in listActivites %}
        <li>{{ activite.sport.nom }} : {{ activite.temps }} heures. Type :{{ activite.sport.typeSport.nom }}</li>
      {% endfor %}
    </ul>
  </div>


</div>

<!-- <h1 id="demo"> hello</h1> -->
<!--script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script-->
<script type="text/javascript">
  var test=[];
  var ext=[];
  var eau=[];
  var salle=[];
  var temps_ext = 0;
  var temps_eau = 0;
  var temps_salle = 0;

  {% for activite in listActivites %}
     var obj = '{{ activite.sport.typeSport.nom }}';
     test.push(obj);

     if( '{{ activite.sport.typeSport.nom }}' == 'En salle') {
       temps_salle += {{ activite.temps  }};
     } else if( '{{ activite.sport.typeSport.nom }}' == 'Eau') {
       temps_eau += {{ activite.temps  }};
     } else {
       temps_ext += {{ activite.temps  }};
     }
  {% endfor %}
  //document.getElementById("demo").innerHTML = test;
</script>

<div class="container">
  {{ include("AssoSportAdherentBundle:Chart:global_chart.html.twig") }}
</div>

<a href="{{ path('asso_sport_adherent_homepage') }}">Ajouter une activité</a>
<a href="{{ path('asso_sport_adherent_stats') }}">Statistiques du mois</a>

{% endblock %}
